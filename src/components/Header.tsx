import { SignOutButton, useAuth } from "@clerk/clerk-react";
import { useState } from "react";

export const Header = () => {
  const { isSignedIn } = useAuth();
  const [open, setOpen] = useState(false);

  return (
    <header className="py-4 px-4 flex justify-between items-center max-w-8/10 m-auto">
      <div>
        <svg
          width="33"
          height="75"
          viewBox="0 0 63 95"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.91225 0.215463C6.56509 0.605437 5.36557 1.40396 4.12913 2.75958C2.52362 4.50518 1.82235 6.25078 1.82235 8.53491C1.82235 9.63055 4.77503 49.9836 5.03339 52.5277L5.12566 53.4191L4.16604 54.0505C1.32409 55.8889 0.493651 57.7831 0.124566 63.1127C-0.041522 65.4711 -0.041522 66.7153 0.124566 68.2752C0.567467 72.5278 2.6528 76.9846 5.80847 80.3273L6.98954 81.5901V84.8398C6.98954 86.6226 7.08181 88.5724 7.19254 89.1667C7.54317 91.1351 8.5766 92.695 10.2006 93.7907C12.1198 95.072 11.5108 95.0349 30.2603 94.9792L47.1275 94.9235L48.3639 94.3292C50.5784 93.2707 51.9994 91.3951 52.3869 88.9439C52.4977 88.3496 52.5715 86.4369 52.5715 84.7098V81.5529L53.2358 80.6244C55.0443 78.0989 56.0778 76.2975 56.6683 74.5891C57.4619 72.3235 57.591 70.8936 57.7387 62.797L57.8678 54.9975L60.5068 34.2918C62.9981 14.5517 63.1273 13.5117 62.9428 12.0075C62.7213 10.1319 62.3891 9.09202 61.6694 8.07065C60.5991 6.49219 58.8275 5.60082 56.2808 5.32227C53.7341 5.06228 51.9256 5.74938 50.2278 7.64354C48.3455 9.74197 47.9948 10.7076 44.8207 22.6297L43.086 29.0921L42.5324 28.6279C39.7273 26.3066 37.5497 25.8238 34.7262 26.9008C33.9696 27.1794 33.3422 27.6251 32.4748 28.4607C31.8105 29.1107 31.2568 29.6492 31.2568 29.6492C31.2568 29.6492 30.7586 29.185 30.1496 28.5907C27.3261 25.898 23.8198 25.6381 20.8487 27.8665C20.498 28.1265 20.1843 28.3307 20.1659 28.2936C20.1474 28.275 19.4461 23.6325 18.6342 17.9686C17.7484 11.9518 16.9733 7.21643 16.7518 6.5479C15.7553 3.53953 14.2605 1.47824 12.452 0.586867C11.1971 -0.0259497 9.33323 -0.174511 7.91225 0.215463ZM10.9387 3.72523C12.046 4.18948 13.1717 6.13935 13.7069 8.4792C13.8545 9.14773 14.7403 14.9045 15.6815 21.2926L17.3608 32.899L17.3424 36.7987L17.3055 40.6985L16.3274 41.7198C15.8107 42.277 14.648 43.7069 13.7622 44.8953C12.1936 46.9938 8.74269 50.8007 8.5766 50.615C8.44742 50.485 5.32866 10.0205 5.32866 8.59062C5.32866 5.39655 8.46588 2.6853 10.9387 3.72523ZM57.7202 9.46342C58.809 10.002 59.1965 10.5776 59.4365 12.0261C59.6025 13.1032 59.3811 15.0716 56.982 34.1061L54.3615 54.9975L54.2324 62.5185C54.0847 70.4294 53.974 71.6364 53.1251 73.8834C52.7745 74.8119 51.0029 77.6903 49.6188 79.5659C49.1574 80.1787 49.1574 80.2716 49.0652 84.5799C48.9545 89.2781 48.8991 89.5938 47.921 90.5037C46.8507 91.5251 47.4781 91.488 29.7436 91.488C14.2051 91.488 13.3193 91.4694 12.6181 91.1351C11.7323 90.7266 11.1602 90.1323 10.7727 89.2224C10.5512 88.6653 10.4958 87.6996 10.4958 84.357V80.1787L8.87187 78.4331C6.98954 76.4275 5.75311 74.6262 4.88576 72.5835C3.72314 69.928 3.57551 69.1295 3.59396 65.2111C3.63087 59.0087 4.11068 57.8945 7.37708 56.2417C7.87534 56.0003 8.28133 55.7403 8.28133 55.6475C8.28133 55.5732 8.89032 55.0532 9.62849 54.4776C11.6585 52.8991 14.482 49.8907 16.5304 47.1052C18.5972 44.2825 19.4277 43.4654 20.3689 43.2797C21.7345 43.0198 22.731 43.7069 23.6353 45.5639C24.4103 47.1609 24.4841 48.9622 23.8198 50.2621C22.6387 52.5463 19.0955 56.4274 14.5189 60.4386C12.249 62.4256 11.8984 62.9827 12.3597 63.8555C12.9318 64.9697 13.7807 65.3411 14.685 64.8583C14.9618 64.7097 16.2351 63.6698 17.49 62.537L19.7599 60.4757L20.6826 61.3114C21.1808 61.7571 22.0666 62.3699 22.6387 62.6485C23.5614 63.1127 23.8936 63.1684 25.4438 63.1684C27.0677 63.1684 27.3076 63.1127 28.4334 62.5556C29.2269 62.1656 29.9835 61.6085 30.5556 60.9586L31.4598 59.9558L32.4195 60.94C32.9731 61.5342 33.8589 62.1656 34.6155 62.5556C35.7597 63.1127 35.9996 63.1684 37.6236 63.1684C39.2291 63.1684 39.4874 63.1127 40.6131 62.5556C42.883 61.4414 44.7469 58.8416 45.1713 56.2046C45.3005 55.4618 45.3743 50.9307 45.3743 44.4682V33.9389L48.0317 24.1339C49.4896 18.7485 50.8737 13.8274 51.1136 13.2146C51.575 11.9518 52.4792 10.4476 53.1805 9.81625C54.2508 8.81346 56.0962 8.6649 57.7202 9.46342ZM38.7308 30.4849C39.6904 30.9863 40.5578 32.0262 41.3144 33.5861L42.0526 35.1089V45.0811C42.0526 54.5147 42.0341 55.109 41.6835 56.2417C41.259 57.6159 40.1333 59.0644 39.1553 59.473C37.1622 60.3272 34.9661 59.1387 33.7666 56.576L33.2868 55.5546V44.7839C33.2868 32.8247 33.2499 33.289 34.5417 31.5805C35.6674 30.0949 37.1991 29.6864 38.7308 30.4849ZM25.6652 30.392C26.5879 30.652 28.1012 32.0633 28.581 33.1404C28.8024 33.6232 29.1162 34.2546 29.2638 34.5703C29.4852 35.0346 29.5222 36.7245 29.4668 45.7124C29.4114 56.2046 29.4114 56.2974 29.0054 57.0588C28.0643 58.823 26.8463 59.7329 25.4253 59.7329C24.5764 59.7329 23.2846 59.1944 22.7679 58.6187C22.4542 58.2659 22.4726 58.2287 23.1554 57.3931C25.9789 54.0319 27.5291 51.4135 27.8797 49.3708C28.1565 47.7366 27.8244 45.7496 26.9755 43.9483C25.7944 41.4784 23.3031 39.4914 21.3654 39.4914H20.7933L20.8671 36.6502C20.9225 34.1803 20.9778 33.7161 21.3469 32.899C21.8821 31.7291 22.5649 31.0048 23.5061 30.5592C24.355 30.1692 24.7241 30.132 25.6652 30.392Z"
            fill="#FAFAFA"
            fill-opacity="0.666667"
          />
        </svg>
      </div>
      {isSignedIn && (
        <div>
          <button
            onClick={() => setOpen(true)}
            className="p-2 bg-[#7f5af0] hover:bg-[#7460ae] text-white rounded cursor-pointer"
          >
            Sign Out
          </button>
          {open && (
            <div className="fixed inset-0 flex items-center justify-center bg-black/50">
              <div className="bg-[#242629] p-6 rounded shadow-lg">
                <h2 className="text-lg font-bold">
                  Are you sure you want to log out?
                </h2>
                <div className="flex justify-end mt-4">
                  <button
                    onClick={() => setOpen(false)}
                    className="mr-2 p-2 text-white underline"
                  >
                    Cancel
                  </button>
                  <SignOutButton>
                    <button className="p-2 bg-[#7f5af0] text-white rounded hover:bg-[#7460ae] cursor-pointer">
                      Sign out
                    </button>
                  </SignOutButton>
                </div>
              </div>
            </div>
          )}
        </div>
      )}
    </header>
  );
};
